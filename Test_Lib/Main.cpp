#include "Lib/All.h"
using namespace std;
int main()
{
    //int count = 9999999;
    //string s;
    //Stopwatch sw;
    //String tmp( 64 );
    //for( int i = 0; i < count; ++i )
    //{
    //    tmp.appendFormat( "{2} {1} {0} {2} {1} {0} {2}", "World", "Hello", i );
    //    s.assign( tmp.c_str(), tmp.size() );
    //    tmp.clear();
    //}
    //cout << sw.elapsed() << "  " << s << endl;



    //int num_groups = 4;
    //int num_items = 200000;
    //auto data = new List<Dict<HashString*, int>*>();
    //for( int i = 0; i < num_groups; ++i )
    //{
    //    auto items = new Dict<HashString*, int>();
    //    for( int j = 0; j < num_items; ++j )
    //    {
    //        //items->insert( HashString( String::make( i, ',', j ) ), j );
    //        items->insert( new HashString( String::make( j ) ), j );
    //    }
    //    data->push( items );
    //    //items->insert( HashString( "erererere" ), 123 );  // 制造一个交集
    //}

    //Dict<HashString*, int> result1( num_groups * num_items );
    //Dict<HashString*, int> result2( num_groups * num_items );
    //Dict<HashString*, int> result3( num_groups * num_items );

    //Stopwatch sw;
    //auto& d0 = *data->at( 0 );
    //auto& d1 = *data->at( 1 );
    //auto& d2 = *data->at( 2 );
    //auto& d3 = *data->at( 3 );
    //for( int i = 0; i < d0.size(); ++i )
    //{
    //    auto n = d0.data()[ i ];
    //    if( d1.find( n->key ) )
    //    {
    //        result1.insert( n->key, n->value );
    //    }
    //}
    //for( int i = 0; i < result1.size(); ++i )
    //{
    //    auto n = result1.data()[ i ];
    //    if( d2.find( n->key ) )
    //    {
    //        result2.insert( n->key, n->value );
    //    }
    //}
    //for( int i = 0; i < result2.size(); ++i )
    //{
    //    auto n = result2.data()[ i ];
    //    if( d3.find( n->key ) )
    //    {
    //        result3.insert( n->key, n->value );
    //    }
    //}
    //cout << sw.elapsed() << endl;
    //cout << result3.size() << endl;





    //data[0]
    //for( int i = 0; i < data->size(); ++i )
    //{
    //    auto items = data->at( i );
    //    for( int j = 0; j < items->size(); ++j )
    //    {
    //        if( auto o = dict.insert( items->at( j ), 1, false ) )
    //        {
    //            ++o->value;
    //        }
    //    }
    //}
    //for( int i = 0; i < dict.size(); ++i )
    //{
    //    auto o = dict.data()[ i ];
    //    if( o->value == data->size() )
    //        result.push( o->key );
    //}
    //cout << sw.elapsed() << endl;
    //cout << result.size() << endl;
    //for( int i = 0; i < result.size(); ++i )
    //    cout << result[ i ].c_str() << endl;


    return 0;
}
